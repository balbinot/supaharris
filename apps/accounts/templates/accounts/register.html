{% extends "base.html" %}

{% block breadcrumbs %}
  <!-- Breadcrumbs-->
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="{% url 'index' %}">Home</a>
    </li>
    <li class="breadcrumb-item active">Register</li>
  </ol>
{% endblock breadcrumbs %}

{% block content %}
  <div class="container">
    <div class="card card-login mx-auto mt-5 mb-3">
      <div class="card-header">Register</div>
      <div class="card-body">
          
        {% if form.errors %}
        <p>Your username and password didn't match. Please try again.</p>
        {% endif %}

        {% if next %}
            {% if user.is_authenticated %}
            <p>Your account doesn't have access to this page. To proceed,
            please login with an account that has access.</p>
            {% else %}
            <p>Please login to see this page.</p>
            {% endif %}
        {% endif %}

        <form method="post" action="">
        {% csrf_token %}

          <div class="form-group">
            <div class="form-label-group">
              <input type="email" id="id_username" name="username" class="form-control" placeholder="Email address" required="required" autofocus="autofocus">
              <label for="id_username">Email address</label>
            </div>
          </div>

          <div class="form-group">
            <div class="form-label-group">
              <input type="password" id="id_password1" name="password1" class="form-control" placeholder="Password" required="required" autofocus="autofocus">
              <label for="id_password1">Password</label>
            </div>
          </div>

          <div class="form-group">
            <div class="form-label-group">
              <input type="password" id="id_password2" name="password2" class="form-control" placeholder="Password" required="required" autofocus="autofocus">
              <label for="id_password2">Confirm password</label>
            </div>
          </div>

          <div class="form-group">
            <div class="checkbox">
              <label>
                <input type="checkbox" value="accept-tcs" required="required">
                <a href="{% url 'about:privacy_policy' %}">Accept T&Cs</a>
              </label>
            </div>
          </div>

          <input class="btn btn-primary btn-block" type="submit" value="Submit">
          <input type="hidden" name="next" value="{{ next }}">
        </form>
        <div class="text-center">
          <a class="d-block small mt-3" href="{% url 'accounts:password_reset' %}">Forgot password?</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

